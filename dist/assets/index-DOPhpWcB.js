(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();const p={name:"marksy_student_name",marks:"marksy_marks_v1"},L=[{text:"අද Physics revision session 4pm Zoom එකට late වෙන්න එපා 😂",tag:"CLASS",important:!0},{text:"Maths past paper pack upload උනා. බලලා marks add කරන්න.",tag:"UPDATE",important:!1},{text:"Next week chem practical demo one shot! goggles ගෙනාවත්!",tag:"LAB",important:!0},{text:"Group study Sunday. Bring snacks not excuses 😎",tag:"STUDY",important:!1},{text:"A/L mock exams rescheduled to October 15th!",tag:"EXAM",important:!0},{text:"New Biology notes available on the class drive",tag:"UPDATE",important:!1}],S=[{name:"A/L Physics Mock",date:"2025-10-15T08:00:00",note:"Do past MCQs daily."},{name:"A/L Combined Maths Mock",date:"2025-11-02T08:00:00",note:"Vectors revise."},{name:"Chemistry Theory Paper",date:"2025-11-20T08:00:00",note:"Organic summary cards."},{name:"Final A/L Exams Start",date:"2025-12-02T08:00:00",note:"Calm > Panic."}],f=["පැත්තකින් scroll කරන්න අරන් marks improve වෙන්නෙ නෑ ne 😂","තව page එකක් open කලත් brain cache එක clear වෙන්නේ නෑ. Study little now.","ඕක කරලා දැම්මොත් future self එක ඔයාට treat දෙයි.","දවසේ minutes 1440. ඒකෙන් 30ක් අධ්‍යාපනයට දාන්න බැරිද?","Coffee එක strong. ඔයාගේ willpower එක stronger කරන්න.","‘Later’ කියනවා future panic එකට loan book කරගැනීම තමයි.","Small step කියලා underestimate කරන්න එපා. ඒවෙන් තමයි marathon pass.","අද කරන MCQ එක exam day වෙද්දී free mark එකක්.","Sleep deprivation heroism නෙවෙයි. Smart scheduling තමයි game එක.","Brain එකට reps ඕන. එකපාර cramming කරන්න එපා.","ඔයා fail unoth? data එකක් ලැබුණා. ඒක use කරලා tune කරගන්න.","Progress slowද? Slow > Stop 💪","Comparison = motivation killer. Yesterday version එකත් compare කරන්න.","Pen එක අරන් start කරලා දාලා පස්සෙ momentum තමයි වැඩ.","WiFi drop una wage distraction cut කරල focus mode on කරන්න.","Study timer 25min set කර. Start now. Future thanks.","Blank page එක දකිද්දි පැනලා යන්න එපා. One word එකකින් start.","ඕබ්බට possible කියන එක doubt වෙද්දි previous wins check කරන්න.","Rest day එක luxury නෙවෙයි. එය brain upgrade patch.","Consistency > Motivation bursts.","Revision කියන්නේ reheating නෙවෙයි. Rebuilding neural path එක.","Guesswork reduce කරන්න past errors list එක revise කරන්න.","ඔයාට boredද? Skill level උඩ යන sign එකක් sometimes.","එදා fail උන topic එකට revenge session එකක් දාපං 😂","Short notes කියලා novel එකක් මැද ලියන්න එපා. Laser notes!","Phone silent? Good. Mind silent? Better.","Exam hall එකේ confidence build වෙන්නේ අදෙයි.","අනේ මචං කියලා postpone කරන්න life එකට bug එකක් දානවා.","Energy drop වෙද්ද? पानी / вода / water. Drink!","Mind wandering? Todo list එකට capture කරලා brain RAM free.","Average plan + high consistency = win formula.","ඔයාට heavy day එකක්ද? 10 minute micro win එකක් still possible.","Learning curve zig-zag. Dip එක quit reason නෙවෙයි.","Error එකකින් shame වුනොත් growth patch skip වෙනවා.","Explain to imaginary friend method භාවිතා කරලා gaps catch කරන්න.","Track marks = debug learning.","එයාලා හුඟාක් කියනවා කියලා ඔයාට ඒව follow කරන්න ඕන නෑ. Fit filtering.","Try එකක් දුන්නොත් chance 50%. Try නොදුන්නොත් 0%.","Habits build වෙන්නේ invisible mode. Suddenly visible results.","Scrolling dopamine cheap. Achieving marks dopamine premium.","Start small නම් shame දැනෙන්න එපා. Small snowball > big statue.","Pomodoro එකක් now. Just one. Deal?","Note color overload = holiday lights. Keep contrast simple.","ඔයාට tiredද මැද session එක? Stand up 30 sec reset.","Topic එක අමාරුද? Break down mini boss fights.","Study group එක gossip group එකක් වෙලාද? Refocus!","Brain fog? Maybe need oxygen. Window open කරන්න.","Progress track කරලා celebrate micro wins.","‘I can’t’ -> ‘I can’t yet’.","Hard subject එක future bragging rights generator 😂","Retry > Regret.","MCQ mistakes list එක අඟහරු දිනයට එවලා නොතබන්න. Daily glance.","Time table realisticද? Fantasy plan burnout machine.","Focus playlist එක loop වෙනවාද? Get fresh beats.","Evening slump? Light snack + water + 5 jumping jacks.","Mark drop? Investigate root not mood.","Study streak break වෙලාද? Day 1 again. Shame නෑ.","Exam fear = unclear prep. Clarify plan -> reduce fear.","Maths proof stuck? Draw / visualise.","Definition rote? Apply to example immediate.","Flashcards overstuff? Split deck lighten.","Procrastination = task undefined. Define first step only.","ඔයා late startද? Late > Never. Sprint calmly.","Before sleep 5min recall = memory glue.","Explain aloud awkwardද? Works though 😂","Brain not USB. Repetition spaced need.","Overhighlight syndrome cure = active recall.","Social media flex ignore. Private grind focus.","Deep breath 4s in 6s out calm circuit reset.","Quit thought popup? Observe. Not obey.","Teacher feedback = free cheatcode.","Today perfect නැත්තම් tomorrow sabotage කරන්න එපා.","Checklist tick dopamine harness wisely.","Exam countdown බලලා panic නෙවෙයි prioritize.","Library vibes needද? Create mini vibe home.","Motivation letter future self ලියලා wall එකට දාපං.","Uninstall one distraction app today? Try.","Study posture slump? Oxygen drop -> focus drop.","Hard start? Open book only rule. Momentum follows.","Wrong answer shame? Hidden lesson treasure.","Break = strategy. Not weakness.","Mind racing? Brain dump page.","Late night guesswork = morning rework.","Topic mastered? Teach junior friend.","Small rewrite summary after lesson cement.","Practice under timed mode simulate exam stress inoculation.","Healthy snack > sugar crash.","Sleep > extra 2am random reread.","Confidence built by evidence. Generate evidence daily.","Replace ‘I must’ with ‘I choose’. Autonomy boosts.","Check syllabus item tick after session. Feels good.","Hard question flag comeback later. Momentum save.","Background TV silent killer. Off.","Study desk clutter purge 2min ritual.","Start assignment early beta version.","Score low? Graph trend not single dot.","Celebrate improvement not only perfection.","Shortcut skipping basics future tax.","Review session start with previous mistakes recap.","Study buddy accountability message now. Go.","Battery low? So are you. Charge both.","Rewrite messy note tidy revision.","Track distract count -> gamify reduction.","Use exam paper margins plan attack first.","Reminder: You are capable. Evidence loading...","One focused hour today > three scattered tomorrow.","Curiosity mode on: ask why twice.","Hydrate brain: sip now.","Past you wished for this chance. Use it.","Every revise pass smooth edges sharp skill.","Discipline is choosing what you want most over now.","ඔයාලට පුළුවන්. Calm grind continue.","අධිශක්ති තියෙන්නේ consistency superpower එකේ.","හිනා වෙන්නත් ඉගෙනගන්නත් parallel run කරන්න පුළුවන්!","අද අඩු mark? නැගිටින්නේ ඒකෙන්."],r=t=>document.querySelector(t),y=t=>document.querySelectorAll(t);document.addEventListener("DOMContentLoaded",()=>{x(),M(),E(),O(),C(),T(),v(),A(),D(),N()});function x(){const t=new Date().getFullYear();y("#year").forEach(n=>n.textContent=t)}function M(){const t=r("#greeting"),n=r("#nameForm"),a=r("#setNameBtn");if(!t||!a)return;const s=localStorage.getItem(p.name);s&&s.trim()!==""?(t.textContent=`Hello ${s} 👋`,t.classList.remove("hidden"),a.textContent="Change Name",a.classList.remove("hidden")):(t.classList.add("hidden"),a.textContent="Set Your Name",a.classList.remove("hidden")),a.addEventListener("click",()=>{n.classList.toggle("hidden")}),n.addEventListener("submit",e=>{e.preventDefault();const o=r("#studentNameInput").value.trim();o&&(localStorage.setItem(p.name,o),t.textContent=`Hello ${o} 👋`,t.classList.remove("hidden"),n.classList.add("hidden"),a.textContent="Change Name")})}function E(){const t=r("#liveDate"),n=r("#liveTime");if(!t||!n)return;t.classList.add("date-display"),n.classList.add("time-display");const a=()=>{const s=new Date;t.textContent=s.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"}),n.textContent=s.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"}),n.classList.add("time-pulse"),setTimeout(()=>n.classList.remove("time-pulse"),500)};a(),setInterval(a,1e3)}function C(){const t=r("#noticeList");t&&(t.innerHTML="",L.forEach((n,a)=>{const s=document.createElement("li");s.className=`notice ${n.important?"notice-important":""}`,s.style.animationDelay=`${a*.1}s`;let e="";switch(n.tag){case"CLASS":e="🏫";break;case"UPDATE":e="🔄";break;case"LAB":e="🧪";break;case"STUDY":e="📚";break;case"EXAM":e="📝";break;default:e="📢"}s.innerHTML=`
      <span>${n.text}</span>
      <span class="tag">${e} ${n.tag}</span>
    `,t.appendChild(s)}))}function T(){const t=r("#quoteBox");if(!t)return;const n=r("#newQuoteBtn"),a=()=>{const s=f[Math.floor(Math.random()*f.length)];t.textContent=s};n&&n.addEventListener("click",a),a()}function h(){try{return JSON.parse(localStorage.getItem(p.marks))||[]}catch{return[]}}function $(t){localStorage.setItem(p.marks,JSON.stringify(t))}function v(){const t=r("#lastMark");if(!t)return;const n=r("#avgMark"),a=r("#highMark"),s=r("#subCount"),e=h();if(document.querySelectorAll(".stats-items > div").forEach(i=>{i.classList.add("stat-animated")}),e.length){const i=e[e.length-1],c=i.score/i.outOf*100,l=e.map(u=>u.score/u.outOf*100),m=l.reduce((u,g)=>u+g,0)/l.length,d=Math.max(...l);t.innerHTML=`${i.subject} <strong>${c.toFixed(1)}%</strong>`,n.innerHTML=`<strong>${m.toFixed(1)}</strong>`,a.innerHTML=`<strong>${d.toFixed(1)}</strong>`,s.innerHTML=`<strong>${e.length}</strong>`,c>=75?t.closest("div").classList.add("high-score"):c<50&&t.closest("div").classList.add("low-score")}else t.textContent="-",n.textContent="-",a.textContent="-",s.textContent="0";const o=r("#marksBody");o&&(o.innerHTML="",[...e].reverse().forEach(i=>{const c=document.createElement("tr");c.innerHTML=`<td>${i.subject}</td><td>${i.score}/${i.outOf}</td><td>${(i.score/i.outOf*100).toFixed(1)}%</td><td>${i.date}</td>`,o.appendChild(c)}))}function D(){const t=r("#markForm");t&&t.addEventListener("submit",n=>{n.preventDefault();const a=r("#subject").value.trim(),s=parseFloat(r("#score").value),e=parseFloat(r("#outOf").value),o=r("#date").value||new Date().toISOString().slice(0,10);if(!a||isNaN(s)||isNaN(e)||e<=0)return;const i=h();i.push({subject:a,score:s,outOf:e,date:o}),$(i),t.reset(),v()})}function A(){const t=r("#eventsContainer");if(!t)return;t.innerHTML="",[...S].sort((s,e)=>new Date(s.date).getTime()-new Date(e.date).getTime()).forEach(s=>{const e=document.createElement("div");e.className="event-box",e.innerHTML=`
      <div class="event-name">${s.name}</div>
      <div class="countdown" data-date="${s.date}"></div>
      <div class="event-progress"><span></span></div>
      <small class="muted">${s.note}</small>
    `,t.appendChild(e)});const a=()=>{const s=Date.now();y(".event-box").forEach(e=>{const o=e.querySelector(".countdown"),i=o.getAttribute("data-date"),l=new Date(i).getTime()-s;if(l<=0){o.textContent="Started / Done 🎯",e.querySelector(".event-progress span").style.width="100%";return}const m=Math.floor(l/864e5),d=Math.floor(l%864e5/36e5),u=Math.floor(l%36e5/6e4),g=Math.floor(l%6e4/1e3);o.textContent=`${m}d ${d}h ${u}m ${g}s`;const k=e.querySelector(".event-progress span"),b=120*864e5,w=Math.min(100,(1-l/b)*100);k.style.width=w+"%"})};a(),setInterval(a,1e3)}function O(){const t=[r("#quickAccessBtn"),r("#quickAccessFooter")].filter(Boolean),n=r("#quickAccessPanel"),a=r("#closeQuick");n&&(t.forEach(s=>s&&s.addEventListener("click",()=>n.classList.remove("hidden"))),a&&a.addEventListener("click",()=>n.classList.add("hidden")),n.addEventListener("click",s=>{s.target===n&&n.classList.add("hidden")}),document.addEventListener("keydown",s=>{s.key==="Escape"&&n.classList.add("hidden")}))}function N(){const t=r("#analyzeStats");if(!t)return;const n=h();if(!n.length){t.innerHTML="<p>No marks yet.</p>";return}const a=n.map(c=>c.score/c.outOf*100),s=(a.reduce((c,l)=>c+l,0)/a.length).toFixed(2),e=Math.max(...a).toFixed(1),o=Math.min(...a).toFixed(1);t.innerHTML=`
    <div><span class="label">Average:</span> ${s}%</div>
    <div><span class="label">Highest:</span> ${e}%</div>
    <div><span class="label">Lowest:</span> ${o}%</div>
    <div><span class="label">Entries:</span> ${n.length}</div>
  `;const i=r("#distributionList");if(i){const c={"90-100":0,"80-89":0,"70-79":0,"60-69":0,"<60":0};a.forEach(l=>{l>=90?c["90-100"]++:l>=80?c["80-89"]++:l>=70?c["70-79"]++:l>=60?c["60-69"]++:c["<60"]++}),i.innerHTML="",Object.entries(c).forEach(([l,m])=>{const d=document.createElement("li");d.textContent=`${l}: ${m}`,i.appendChild(d)})}}
